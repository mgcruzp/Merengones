<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Inicio</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>

<body>
  <header>
    <nav class="navbar">
      <div class="logito">
        <img th:src="@{/images/Logo.png}" alt="Logo del proyecto" class="logito-img">
        <div class="logo">
          <span>Wiki</span><span class="highlight">Proyecto</span>
        </div>
      </div>

      <ul class="nav-links">
        <li><a th:href="@{/}" >Inicio</a></li>
        <li><a th:href="@{/equipo}">Equipo</a></li>
        <li><a th:href="@{/documentacion}"class="active">Documentación</a></li>
        <li><a th:href="@{/desarrollo}">Desarrollo</a></li>
        <li><a th:href="@{/pruebas}">Pruebas</a></li>
        <li><a th:href="@{/contacto}">Contacto</a></li>
      </ul>
    </nav>
  </header>
  
  <div class="doc-layout">
  <aside class="doc-sidebar">
  <div class="toc-title">Tabla de contenidos</div>
  <nav>
    <a th:href="@{/documentacion} + '#descripcion'">Descripción general</a>
    <a th:href="@{/documentacion} + '#req-func'">Requerimientos funcionales</a>
    <a th:href="@{/documentacion} + '#req-nofunc'">Requerimientos no funcionales</a>
    <a th:href="@{/documentacion} + '#diag-arquitectura'">Diagrama de arquitectura</a>
    <a th:href="@{/documentacion} + '#diag-ref'">Diagramas de referencia C4</a>
    <a th:href="@{/documentacion} + '#diag-contexto'">&nbsp;&nbsp;• Contexto</a>
    <a th:href="@{/documentacion} + '#diag-contenedor'">&nbsp;&nbsp;• Contenedor</a>
    <a th:href="@{/documentacion} + '#diag-componentes'">&nbsp;&nbsp;• Componentes</a>
    <a th:href="@{/documentacion} + '#diag-clases'">Diagrama de clases</a>
    <a th:href="@{/documentacion} + '#diag-despliegue'">Diagrama de despliegue</a>
    <a th:href="@{/documentacion} + '#bd'">Base de datos</a>
    <a th:href="@{/documentacion} + '#bd-mer'">&nbsp;&nbsp;• Modelo Entidad-Relación (ER)</a>
    <a th:href="@{/documentacion} + '#bd-diccionario'">&nbsp;&nbsp;• Diccionario de datos</a>
  </nav>
</aside>


 <main>
    <h1>Documentación del Proyecto</h1>
      <section id="descripcion" class="dev-section">
      <h3><strong>Descripción general</strong></h3>
      <br>
      <p>
        <strong>Arrienda tu Finca</strong> es una plataforma web diseñada para facilitar el proceso de arriendo de fincas rurales entre particulares, conectando a propietarios (usuarios arrendatarios) que desean ofrecer sus propiedades en alquiler con personas interesadas en arrendarlas temporalmente (usuarios arrendadores).
      </p>
      <p>
        La página web ofrece un entorno seguro, intuitivo y eficiente para la gestión de propiedades, solicitudes de arriendo, pagos, calificaciones y comunicación entre usuarios. Se enfoca en fomentar el turismo rural y el aprovechamiento de espacios campestres que, de otro modo, podrían estar subutilizados.
      </p>
      <p>El sistema contempla dos perfiles principales de usuario:</p>
      <ul>
        <li>
          <strong>Usuario Arrendatario:</strong> Puede registrar, editar, eliminar y administrar fincas disponibles para arriendo, revisar solicitudes entrantes, aceptar o rechazar solicitudes, verificar pagos realizados y calificar a los arrendadores tras la experiencia.
        </li>
        <li>
          <strong>Usuario Arrendador:</strong> Puede buscar fincas por ubicación geográfica, visualizar detalles, enviar solicitudes de arriendo, realizar pagos tras aprobación y calificar tanto al arrendatario como a la finca.
        </li>
      </ul>
      <img th:src="@{/images/Arrendador-arrendatario.png}" alt="Imagen de arrendador y arrendatario" class="adicion-img"/>
      <p>
        La plataforma cuenta con un sistema de autenticación y autorización que permite gestionar los diferentes roles y permisos, y presenta interfaces web amigables para garantizar una experiencia clara e intuitiva desde cualquier navegador.
      </p>
    </section>

    <section id="req-func" class="dev-section">
      <h3><strong>Requerimientos Funcionales</strong></h3>
      <br>
      <p><strong>RF1. Autenticación y gestión de usuarios:</strong></p>
      <ul>
        <li><strong>RF1.1: </strong>El sistema debe permitir el registro de usuarios arrendadores y arrendatarios.</li>
        <li><strong>RF1.2: </strong>El sistema debe permitir que los usuarios inicien sesión con credenciales válidas.</li>
        <li><strong>RF1.3: </strong>El sistema debe permitir que los usuarios cierren sesión de manera segura.</li>
      </ul>
      <br>
      <p><strong>RF2. Funcionalidades del Usuario Arrendador:</strong></p>
      <ul>
        <li><strong>RF2.1: </strong>El sistema debe permitir que el usuario arrendador registre nuevas fincas disponibles para arriendo.</li>
        <li><strong>RF2.2: </strong>El sistema debe permitir que el usuario arrendador edite la información de las fincas publicadas.</li>
        <li><strong>RF2.3: </strong>El sistema debe permitir que el usuario arrendador elimine fincas publicadas.</li>
        <li><strong>RF2.4: </strong>El sistema debe permitir que el usuario arrendador visualice la lista completa de sus fincas publicadas.</li>
        <li><strong>RF2.5: </strong>El sistema debe notificar al usuario arrendador si su finca ha sido arrendada.</li>
        <li><strong>RF2.6: </strong>El sistema debe permitir que el usuario arrendador acepte o rechace solicitudes de arriendo.</li>
        <li><strong>RF2.7: </strong>El sistema debe permitir que el usuario arrendador consulte el historial de solicitudes recibidas.</li>
        <li><strong>RF2.8: </strong>El sistema debe permitir que el usuario arrendador verifique si el usuario arrendatario ha realizado el pago.</li>
        <li><strong>RF2.9: </strong>El sistema debe permitir que el usuario arrendador califique al usuario arrendatario después del arriendo.</li>
        <li><strong>RF2.10: </strong>El sistema debe permitir que el usuario arrendador suba fotos de su finca.</li>
        <li><strong>RF2.11: </strong>El sistema debe permitir que el usuario arrendador desactive su finca.</li>
      </ul>
      <br>
      <p><strong>RF3. Funcionalidades del Usuario Arrendatario:</strong></p>
      <ul>
        <li><strong>RF3.1: </strong>El sistema debe permitir que el usuario arrendatario busque fincas disponibles utilizando filtros por nombre, municipio, cantidad de personas.</li>
        <li><strong>RF3.2: </strong>El sistema debe permitir que el usuario arrendatario visualice los detalles de una finca publicada.</li>
        <li><strong>RF3.3: </strong>El sistema debe permitir que el usuario arrendatario solicite el arriendo de una finca.</li>
        <li><strong>RF3.4: </strong>El sistema debe notificar al usuario arrendatario si su solicitud ha sido aceptada o rechazada.</li>
        <li><strong>RF3.5: </strong>El sistema debe permitir que el usuario arrendatario realice el pago del arriendo de manera segura.</li>
        <li><strong>RF3.6: </strong>El sistema debe permitir que el usuario arrendatario visualice el historial de fincas que ha arrendado.</li>
        <li><strong>RF3.7: </strong>El sistema debe permitir que el usuario arrendatario califique la finca arrendada y al usuario arrendador.</li>
      </ul>
      <br>
    </section>

    <section id="req-nofunc" class="dev-section">
      <h3><strong>Requerimientos No Funcionales</strong></h3>
      <br>
      <p><strong>RNF1. Usabilidad:</strong></p>
      <ul>
        <li><strong>RNF1.1: </strong>El sistema debe ofrecer una interfaz gráfica intuitiva y fácil de usar para todos los usuarios.</li>
      </ul>
      <br>
      <p><strong>RNF2. Rendimiento:</strong></p>
      <ul>
        <li><strong>RNF2.1: </strong>El sistema debe cargar cualquier vista en un tiempo máximo de 3 segundos en condiciones de red promedio.</li>
        <li><strong>RNF2.2: </strong>El sistema debe soportar al menos 10 usuarios concurrentes sin degradar su rendimiento.</li>
      </ul>
      <br>
      <p><strong>RNF3. Seguridad:</strong></p>
      <ul>
        <li><strong>RNF3.1: </strong>El sistema debe implementar control de acceso basado en roles (arrendador y arrendatario).</li>
        <li><strong>RNF3.2: </strong>El sistema debe exigir contraseñas seguras al momento del registro (mínimo 8 caracteres, una mayúscula y un número).</li>
      </ul>
      <br>
      <p><strong>RNF4. Mantenibilidad:</strong></p>
      <ul>
        <li><strong>RNF4.1: </strong>El sistema debe estar diseñado bajo una arquitectura modular que facilite la adición o modificación de funcionalidades.</li>
        <li><strong>RNF4.2: </strong>El sistema debe contar con documentación clara para facilitar el mantenimiento y soporte a través de una wiki.</li>
      </ul>
      <br>
      <p><strong>RNF5. Disponibilidad:</strong></p>
      <ul>
        <li><strong>RNF5.1: </strong>El sistema debe estar disponible al menos el 99% del tiempo, garantizando operación continua 24/7.</li>
      </ul>
      <br>
      <p><strong>RNF6. Escalabilidad:</strong></p>
      <ul>
        <li><strong>RNF6.1: </strong>El sistema debe permitir la localización y traducción de interfaces para su uso en múltiples países o regiones.</li>
      </ul>
    </section>

    <section id="diag-arquitectura" class="dev-section">
        <h3><strong>Diagrama de arquitectura</strong></h3>
        <p>Aquí irá el diagrama de arquitectura...</p>
      </section>

      <section id="diag-ref" class="dev-section">
        <h3><strong>Diagramas de referencia C4</strong></h3>
      </section>

      <section id="diag-contexto" class="dev-section">
        <h4><strong>Diagrama de Contexto</strong></h4>
        <p>Aquí irá el diagrama de contexto...</p>
      </section>

      <section id="diag-contenedor" class="dev-section">
        <h4><strong>Diagrama de Contenedor</strong></h4>
        <p>Aquí irá el diagrama de contenedor...</p>
      </section>

      <section id="diag-componentes" class="dev-section">
        <h4><strong>Diagrama de Componentes</strong></h4>
        <p>Aquí irá el diagrama de componentes...</p>
      </section>

      <section id="diag-clases" class="dev-section">
        <h3><strong>Diagrama de Clases</strong></h3>
        <br>
        <p>
          Este diagrama de clases representa la estructura y relaciones principales del sistema <strong>"Arrienda tu Finca"</strong>.
        </p>
        <br>
        <ul>
          <li><strong>Usuario:</strong> Clase central que almacena la información personal (nombre, apellido, correo, teléfono, rol) y métodos para gestionar la cuenta (crear, editar, ver perfil, activar, autenticar). Se asocia con múltiples <em>Finca</em>, <em>Solicitud</em> y <em>Calificación</em>.</li>
          <li><strong>Rol (ENUM):</strong> Define los tipos de usuario: <em>ARRENDADOR</em> y <em>ARRENDATARIO</em>.</li>
          <li><strong>Finca:</strong> Contiene datos de una propiedad (título, descripción, ubicación, precio, disponibilidad) y métodos para su administración (publicar, editar, desactivar, marcar disponible, subir fotos, ver fincas). Relacionada con un propietario (<em>Usuario</em>) y con <em>Calificación</em>.</li>
          <li><strong>Solicitud:</strong> Representa una petición de arriendo de una finca, con atributos como fecha, estado y mensaje, y métodos para gestionarla (aceptar, rechazar, ver solicitudes).</li>
          <li><strong>Pago:</strong> Registra los pagos asociados a solicitudes, con detalles como monto, fecha y método de pago, y el método <em>realizarPago</em>.</li>
          <li><strong>Calificación:</strong> Permite evaluar la experiencia con puntaje, comentario y fecha, vinculando al evaluador, evaluado y la finca correspondiente.</li>
        </ul>
        <br>
        <p>
          En conjunto, el diagrama muestra cómo las entidades del sistema se conectan para permitir la publicación de fincas, el envío y gestión de solicitudes, la realización de pagos y la calificación de experiencias.
        </p>
        <br>
        <img th:src="@{/images/Diagramas/UML.png}" alt="Diagrama de clases" />
      </section>

      <section id="diag-despliegue" class="dev-section">
    <h3><strong>Diagrama de despliegue</strong></h3>
    <p>
        El diagrama de despliegue muestra la infraestructura física o virtual donde se ejecutará la aplicación. En este caso, la aplicación se ejecuta en una máquina virtual que contiene un servidor Apache, Kubernetes (K8s) para orquestación de contenedores, la aplicación web de Spring Boot y la base de datos JPA.
    </p>
    <img th:src="@{/images/Diagramas/Diagrama_Despliegue.png}" 
    alt="Diagrama de despliegue del proyecto" 
    class="diagrama-img"/>
</section>

      <section id="bd" class="dev-section">
        <h3><strong>Base de datos</strong></h3>
      </section>

      <section id="bd-mer" class="dev-section er">
        <h4><strong>Modelo Entidad-Relación (ER)</strong></h4>
        <p>El siguiente diagrama Entidad-Relación (ER) representa la estructura de la base de datos propuesta para el sistema, 
          mostrando las entidades principales, sus atributos y las relaciones entre ellas. Este modelo permite visualizar 
          cómo se organiza y conecta la información, sirviendo como base para el diseño e implementación del sistema. En el diagrama, 
          PK (Primary Key) es una llave primaria, identificador único de cada registro en la tabla. No se repite y no puede ser nulo y
          FK (Foreign Key) es una llave foránea, campo que establece una relación con la clave primaria de otra tabla para mantener 
          la integridad referencial.</p>
        <img th:src="@{/images/Diagramas/EntidadRelacion.jpg}" alt="Diagrama de Entidad-Relación" />
      </section>
      

      <section id="bd-diccionario" class="dev-section">
        <h4><strong>Diccionario de datos</strong></h4>
        <p><strong>Entidad: ROL</strong></p>
  <ul>
    <li><strong>PK:</strong> nombre : STRING</li>
    <li><strong>Descripción:</strong> Tipo de rol del usuario (arrendador, arrentatario).</li>
  </ul>
  <br>

  <p><strong>Entidad: USUARIO</strong></p>
  <ul>
    <li><strong>PK:</strong> id : STRING</li>
    <li><strong>Atributos:</strong> nombre (STRING), apellido (STRING), correo (STRING), telefono (STRING), rol (STRING - FK a ROL.nombre).</li>
  </ul>
  <br>

  <p><strong>Entidad: FINCA</strong></p>
  <ul>
    <li><strong>PK:</strong> id : LONG</li>
    <li><strong>Atributos:</strong> titulo (STRING), descripcion (STRING), ubicacion (STRING), precio (LONG), disponible (BOOLEAN), propietaria (STRING - FK a USUARIO.id).</li>
  </ul>
  <br>

  <p><strong>Entidad: SOLICITUD</strong></p>
  <ul>
    <li><strong>PK:</strong> id : LONG</li>
    <li><strong>Atributos:</strong> fecha (LocalDate), estado (STRING), mensaje (STRING), finca (LONG - FK a FINCA.id), arrendador (STRING - FK a USUARIO.id).</li>
  </ul>
  <br>

  <p><strong>Entidad: PAGO</strong></p>
  <ul>
    <li><strong>PK:</strong> id : LONG</li>
    <li><strong>Atributos:</strong> monto (LONG), fecha (LocalDate), metodo (STRING), solicitud (LONG - FK a SOLICITUD.id).</li>
  </ul>
  <br>

  <p><strong>Entidad: CALIFICACION</strong></p>
  <ul>
    <li><strong>PK:</strong> id : LONG</li>
    <li><strong>Atributos:</strong> puntaje (INT), comentario (STRING), fecha (LocalDate), finca (LONG - FK a FINCA.id), evaluador (STRING - FK a USUARIO.id), evaluado (STRING - FK a USUARIO.id).</li>
  </ul>
  <br>

  <p><strong>Relaciones:</strong></p>
  <ul>
    <li>Un ROL puede asignarse a muchos USUARIOS, pero cada USUARIO tiene un solo ROL.</li>
    <li>Un USUARIO puede poseer varias FINCAS.</li>
    <li>Una FINCA puede recibir múltiples SOLICITUDES.</li>
    <li>Una SOLICITUD puede generar uno o varios PAGOS.</li>
    <li>Un USUARIO puede emitir múltiples CALIFICACIONES.</li>
    <li>Una FINCA puede recibir múltiples CALIFICACIONES.</li>
      </section>
        </main>
  </div>
</body>
</html>