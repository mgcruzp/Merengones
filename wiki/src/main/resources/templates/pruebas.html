<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pruebas</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}" href="/css/styles.css"/>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="logito">
      <img th:src="@{/images/Logo.png}" alt="Logo del proyecto" class="logito-img">
      <div class="logo">
        <span>Wiki</span><span class="highlight">Proyecto</span>
      </div>
    </div>
    <ul class="nav-links">
      <li><a th:href="@{/}">Inicio</a></li>
      <li><a th:href="@{/equipo}">Equipo</a></li>
      <li><a th:href="@{/documentacion}">Documentación</a></li>
      <li><a th:href="@{/desarrollo}">Desarrollo</a></li>
      <li><a th:href="@{/pruebas}" class="active">Pruebas</a></li>
      <li><a th:href="@{/contacto}">Contacto</a></li>
    </ul>
  </nav>

  <main>
    <section class="dev-section matriz-pruebas">
      <h1>Matriz de Pruebas</h1>
      <p>Casos de prueba de <strong>frontend</strong>, <strong>backend</strong> e <strong>integración</strong> escritos con lenguaje sencillo para que todo el equipo los entienda.</p>

      <!-- Leyenda de estados -->
      <div class="table-wrap">
        <table class="tabla">
          <thead>
            <tr><th colspan="6">Estados</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><span class="estado passed">PASSED</span></td><td>Salió como se esperaba.</td>
              <td><span class="estado failed">FAILED</span></td><td>No coincide con lo esperado.</td>
              <td><span class="estado blocked">BLOCKED</span></td><td>Bloqueado por otra cosa.</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Matriz general (sin HUA) -->
      <div class="table-wrap">
        <table class="tabla">
          <thead>
            <tr>
              <th>ID</th>
              <th>Módulo</th>
              <th>Caso</th>
              <th>Datos / Precondiciones</th>
              <th>Pasos clave</th>
              <th>Esperado</th>
              <th>Obtenido</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>BE-01</td><td>Usuarios</td><td>Crear cuenta con datos válidos</td>
              <td>Correo libre; contraseña fuerte</td>
              <td>POST /auth/registro</td>
              <td>201 y registro en BD</td>
              <td>201 y fila creada</td>
              <td><span class="estado passed">PASSED</span></td>
            </tr>
            <tr>
              <td>BE-02</td><td>Usuarios</td><td>Rechazar contraseña débil</td>
              <td>Contraseña “abc123”</td>
              <td>POST /auth/registro</td>
              <td>400 con mensaje de política</td>
              <td>400; “contraseña insegura”</td>
              <td><span class="estado passed">PASSED</span></td>
            </tr>
            <tr>
              <td>BE-03</td><td>Auth</td><td>Login correcto</td>
              <td>Cuenta activa</td>
              <td>POST /auth/login</td>
              <td>200 + JWT</td>
              <td>200 + JWT</td>
              <td><span class="estado passed">PASSED</span></td>
            </tr>
            <tr>
              <td>BE-04</td><td>Propiedades</td><td>Crear finca</td>
              <td>Usuario arrendatario autenticado</td>
              <td>POST /fincas</td>
              <td>201 y finca del usuario</td>
              <td>201; finca #42</td>
              <td><span class="estado passed">PASSED</span></td>
            </tr>
            <tr>
              <td>FE-01</td><td>Registro</td><td>Validaciones de formulario</td>
              <td>Correo inválido; contraseña corta</td>
              <td>Llenar y enviar</td>
              <td>No deja enviar; mensajes junto a campos</td>
              <td>Mensajes claros</td>
              <td><span class="estado passed">PASSED</span></td>
            </tr>
            <tr>
              <td>FE-02</td><td>Login</td><td>Error con credenciales</td>
              <td>Usuario inexistente</td>
              <td>Enviar formulario</td>
              <td>“Usuario o contraseña inválidos”</td>
              <td>Alerta visible</td>
              <td><span class="estado passed">PASSED</span></td>
            </tr>
            <tr>
              <td>INT-01</td><td>Flujo</td><td>Publicar → solicitar → aceptar → pagar</td>
              <td>Usuario A publica; B solicita</td>
              <td>Crear finca, solicitar, aceptar, pagar</td>
              <td>Arriendo pagado en historial</td>
              <td>Se ve en historial</td>
              <td><span class="estado passed">PASSED</span></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Tabla original de contacto (se conserva) -->
      <h3>Casos del formulario de contacto</h3>
      <div class="table-wrap">
        <table class="tabla">
          <thead>
            <tr>
              <th>ID</th><th>Caso</th><th>Esperado</th><th>Obtenido</th><th>Estado</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>TC01</td><td>Enviar formulario completo</td><td>Formulario enviado con éxito</td><td>Formulario enviado con éxito</td><td><span class="estado passed">PASSED</span></td>
            </tr>
            <tr>
              <td>TC02</td><td>Nombre y apellido vacíos</td><td>Error de validación</td><td>Formulario enviado con éxito</td><td><span class="estado na">N/A</span></td>
            </tr>
            <tr>
              <td>TC03</td><td>Correo inválido</td><td>Error: correo no válido</td><td>Error: correo no válido</td><td><span class="estado passed">PASSED</span></td>
            </tr>
          </tbody>
        </table>
      </div>

      <h3>Comandos útiles</h3>
      <pre>
./mvnw -q -Dtest=ContactoControllerWebTest test
# (Sugeridos si los crean)
./mvnw -q -Dtest=AuthControllerTest,FincasControllerTest,PagosControllerTest test
      </pre>
    </section>
  </main>
</body>
</html>
